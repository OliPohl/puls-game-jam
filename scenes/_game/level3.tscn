[gd_scene load_steps=18 format=3 uid="uid://4m8xl8tmrij2"]

[ext_resource type="PackedScene" uid="uid://mkr8jexkunje" path="res://scenes/backgrounds/background_01.tscn" id="1_3hrdy"]
[ext_resource type="Script" uid="uid://cvc8sg35b15o4" path="res://scenes/_player/player_node.gd" id="2_u1um0"]
[ext_resource type="Script" uid="uid://clqf1lxsxo2dq" path="res://components/logic/logic-area.gd" id="3_5chxp"]
[ext_resource type="PackedScene" uid="uid://bnleg6lqnj8ef" path="res://scenes/_player/camera.tscn" id="3_c86oh"]
[ext_resource type="SpriteFrames" uid="uid://dhhttptuhm7fr" path="res://resources/player/player_visuals.tres" id="3_qlxxa"]
[ext_resource type="PackedScene" uid="uid://d30nseke6ivd6" path="res://components/flag_object.tscn" id="4_c86oh"]
[ext_resource type="Script" uid="uid://ckuvnrnw0rigg" path="res://components/logic/logic-base.gd" id="4_xe5ll"]
[ext_resource type="Script" uid="uid://6t1rnc37yi2h" path="res://components/logic/logic-operation.gd" id="5_xe5ll"]
[ext_resource type="Script" uid="uid://beb2x43exogbb" path="res://components/logic/logic-if.gd" id="6_lctgq"]
[ext_resource type="Texture2D" uid="uid://bm6w0t5krkmkv" path="res://assets/images/particles/jump_dust.png" id="8_qlxxa"]
[ext_resource type="Script" uid="uid://b0h7f3mlh2i43" path="res://components/logic/logic-timer.gd" id="9_xwd1o"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lctgq"]
size = Vector2(125, 237.5)

[sub_resource type="Curve" id="Curve_i1k3q"]
_data = [Vector2(0.0166667, 0.0449438), 0.0, 0.0, 0, 0, Vector2(1, 0.921348), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qkbid"]
radius = 18.13
height = 202.51

[sub_resource type="CircleShape2D" id="CircleShape2D_abu21"]
radius = 129.542

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xwd1o"]
size = Vector2(177, 232)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_u1um0"]
size = Vector2(736, 86)

[node name="Level3" type="Node2D"]

[node name="TextureRect" parent="." instance=ExtResource("1_3hrdy")]
modulate = Color(0.498834, 0.835288, 0.871692, 1)
offset_left = -3781.0
offset_top = -4756.0
offset_right = 12337.0
offset_bottom = 5960.0

[node name="Player_Node" type="CharacterBody2D" parent="." node_paths=PackedStringArray("_player_visuals", "_particles")]
position = Vector2(24, 379)
collision_layer = 17
script = ExtResource("2_u1um0")
_player_visuals = NodePath("cool_guy")
_particles = NodePath("cool_guy/CPUParticles2D")

[node name="cool_guy" type="AnimatedSprite2D" parent="Player_Node"]
sprite_frames = ExtResource("3_qlxxa")
animation = &"run"
autoplay = "idle"
frame_progress = 0.169238

[node name="LogicArea" type="Area2D" parent="Player_Node/cool_guy"]
position = Vector2(-24, -379)
script = ExtResource("3_5chxp")
metadata/_custom_type_script = "uid://clqf1lxsxo2dq"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player_Node/cool_guy/LogicArea"]
position = Vector2(25.5, 378.75)
shape = SubResource("RectangleShape2D_lctgq")

[node name="LogicBase" type="Node" parent="Player_Node/cool_guy"]
script = ExtResource("4_xe5ll")
metadata/_custom_type_script = "uid://ckuvnrnw0rigg"

[node name="LogicOperation" type="Node" parent="Player_Node/cool_guy/LogicBase" node_paths=PackedStringArray("variable_node")]
script = ExtResource("5_xe5ll")
variable_node = NodePath("../../..")
variable_name = "player_coyote_time"
value_type = "float"
value_name = "0.23"
interactable = true
metadata/_custom_type_script = "uid://6t1rnc37yi2h"

[node name="LogicIf" type="Node" parent="Player_Node/cool_guy/LogicBase" node_paths=PackedStringArray("variable_node")]
script = ExtResource("6_lctgq")
variable_node = NodePath("../../..")
variable_name = "player_coyote_time"
comparator = ">"
value_type = "float"
value_name = "1.5"
metadata/_custom_type_script = "uid://beb2x43exogbb"

[node name="LogicOperation" type="Node" parent="Player_Node/cool_guy/LogicBase/LogicIf" node_paths=PackedStringArray("variable_node")]
script = ExtResource("5_xe5ll")
variable_node = NodePath("../../../..")
variable_name = "player_size"
operator = "+="
value_type = "float"
value_name = "0.01"
metadata/_custom_type_script = "uid://6t1rnc37yi2h"

[node name="LogicOperation2" type="Node" parent="Player_Node/cool_guy/LogicBase" node_paths=PackedStringArray("variable_node")]
script = ExtResource("5_xe5ll")
variable_node = NodePath("../../..")
variable_name = "layer"
value_name = "1"
interactable = true
metadata/_custom_type_script = "uid://6t1rnc37yi2h"

[node name="CPUParticles2D" type="CPUParticles2D" parent="Player_Node/cool_guy"]
position = Vector2(-9, 101)
emitting = false
amount = 22
texture = ExtResource("8_qlxxa")
lifetime = 0.3
one_shot = true
explosiveness = 1.0
randomness = 1.0
emission_shape = 1
emission_sphere_radius = 25.08
direction = Vector2(0, 2.195)
spread = 180.0
gravity = Vector2(0, 222)
scale_amount_min = 0.3
scale_amount_curve = SubResource("Curve_i1k3q")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player_Node"]
position = Vector2(-9, 23)
shape = SubResource("CapsuleShape2D_qkbid")

[node name="Coyote_Timer" type="Timer" parent="Player_Node"]
wait_time = 0.12
one_shot = true

[node name="Jump_buffered_Timer" type="Timer" parent="Player_Node"]
wait_time = 0.5
one_shot = true

[node name="Hurt_Box_Component" type="Area2D" parent="Player_Node"]
collision_layer = 0
collision_mask = 8

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player_Node/Hurt_Box_Component"]
shape = SubResource("CircleShape2D_abu21")

[node name="Camera2D" parent="Player_Node" instance=ExtResource("3_c86oh")]
offset = Vector2(0, -204.985)

[node name="FLAG_OBJECT" parent="." instance=ExtResource("4_c86oh")]
position = Vector2(7134, -283)
script_enabled = true

[node name="LogicArea" type="Area2D" parent="FLAG_OBJECT"]
position = Vector2(27, -52)
script = ExtResource("3_5chxp")
metadata/_custom_type_script = "uid://clqf1lxsxo2dq"

[node name="CollisionShape2D" type="CollisionShape2D" parent="FLAG_OBJECT/LogicArea"]
position = Vector2(20.5, -56)
shape = SubResource("RectangleShape2D_xwd1o")

[node name="LogicBase" type="Node" parent="FLAG_OBJECT"]
script = ExtResource("4_xe5ll")
metadata/_custom_type_script = "uid://ckuvnrnw0rigg"

[node name="LogicTimer" type="Node" parent="FLAG_OBJECT/LogicBase"]
script = ExtResource("9_xwd1o")
variable_seconds = "30"
metadata/_custom_type_script = "uid://b0h7f3mlh2i43"

[node name="LogicOperation" type="Node" parent="FLAG_OBJECT/LogicBase/LogicTimer" node_paths=PackedStringArray("variable_node")]
script = ExtResource("5_xe5ll")
variable_node = NodePath("../../..")
variable_name = "goal_enabled"
value_type = "bool"
value_name = "false"
metadata/_custom_type_script = "uid://6t1rnc37yi2h"

[node name="LogicOperation" type="Node" parent="FLAG_OBJECT/LogicBase" node_paths=PackedStringArray("variable_node")]
script = ExtResource("5_xe5ll")
variable_node = NodePath("../..")
variable_name = "color"
value_type = "string"
value_name = "red"
interactable = true
metadata/_custom_type_script = "uid://6t1rnc37yi2h"

[node name="LogicIf" type="Node" parent="FLAG_OBJECT/LogicBase" node_paths=PackedStringArray("variable_node")]
script = ExtResource("6_lctgq")
variable_node = NodePath("../../../Player_Node")
variable_name = "_looks_left"
metadata/_custom_type_script = "uid://beb2x43exogbb"

[node name="LogicOperation" type="Node" parent="FLAG_OBJECT/LogicBase/LogicIf" node_paths=PackedStringArray("variable_node")]
script = ExtResource("5_xe5ll")
variable_node = NodePath("../../../../Player_Node")
variable_name = "player.player_gravity"
value_name = "7"
metadata/_custom_type_script = "uid://6t1rnc37yi2h"

[node name="LogicIf2" type="Node" parent="FLAG_OBJECT/LogicBase" node_paths=PackedStringArray("variable_node")]
script = ExtResource("6_lctgq")
variable_node = NodePath("../../../Player_Node")
variable_name = "_looks_left"
value_name = "false"
metadata/_custom_type_script = "uid://beb2x43exogbb"

[node name="LogicOperation" type="Node" parent="FLAG_OBJECT/LogicBase/LogicIf2" node_paths=PackedStringArray("variable_node")]
script = ExtResource("5_xe5ll")
variable_node = NodePath("../../../../Player_Node")
variable_name = "player.player_gravity"
value_name = "33"
metadata/_custom_type_script = "uid://6t1rnc37yi2h"

[node name="TestgroundDELTELATER" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="TestgroundDELTELATER"]
position = Vector2(33, 604)
shape = SubResource("RectangleShape2D_u1um0")
